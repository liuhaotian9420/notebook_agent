import json
import time

notebook_str = '''{\n \"cells\": [\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# 步骤1: 导入库\\n\",\n    \"import matplotlib.pyplot as plt\\n\",\n    \"import seaborn as sns\\n\",\n    \"%matplotlib inline\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# 步骤2: 加载数据\\n\",\n    \"iris = sns.load_dataset('iris')\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# 步骤3: 选择特征 (示例：花瓣长度 vs 花瓣宽度)\\n\",\n    \"x_feature = 'petal_length'\\n\",\n    \"y_feature = 'petal_width'\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# 步骤4: 绘制散点图\\n\",\n    \"plt.figure(figsize=(8, 6))\\n\",\n    \"sns.scatterplot(\\n\",\n    \"    data=iris,\\n\",\n    \"    x=x_feature,\\n\",\n    \"    y=y_feature,\\n\",\n    \"    hue='species',  # 按种类着色\\n\",\n    \"    palette='viridis',\\n\",\n    \"    s=70\\n\",\n    \")\\n\",\n    \"plt.title('鸢尾花花瓣尺寸分布', fontsize=14)\\n\",\n    \"plt.xlabel('花瓣长度 (cm)')\\n\",\n    \"plt.ylabel('花瓣宽度 (cm)')\\n\",\n    \"plt.grid(alpha=0.3)\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": null,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# 步骤5: 在notebook内显示\\n\",\n    \"plt.tight_layout()\\n\",\n    \"plt.show()\"\n   ]\n  }\n ],\n \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 3\",\n   \"language\": \"python\",\n   \"name\": \"python3\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 3\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython3\",\n   \"version\": \"3.8.5\"\n  }\n },\n \"nbformat\": 4,\n \"nbformat_minor\": 4\n}'''
notebook = json.loads(notebook_str)
# 将notebook保存为json文件
with open(f'check_{time.time()}.ipynb', 'w', encoding='utf-8') as f:
    json.dump(notebook, f, ensure_ascii=False, indent=1)